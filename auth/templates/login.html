{% extends "app-layout.html" %}

<!-- Login form display -->
{% block auth %}
<div class="container d-flex justify-content-center align-items-center" 
  style="min-height: calc(94vh - 86px);">
   <div class="input-form card p-4">
    <!-- Flashed Messages -->
    {% with messages = get_flashed_messages(with_categories=True) %}
      {% if messages %}
        <div class="alert-container">
          {% for category, message in messages %}
            <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
              {{ message }}
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}
    <form action="" method="post">
      {{ form.hidden_tag() }}
      <h5 class="text-center pb-2 fw-bold">
        <i class="fa-solid fa-user"></i> Login
      </h5>
      <div class="field">
        {{ form.email.label() }}
        <p class="control has-icons-left has-icons-right">
          {{ form.email(id="email", class="input is-primary" + 
            (' is-danger' if form.email.errors else ''), placeholder='Email') }}
          {% for error in form.email.errors %}
            <small class="text-danger">{{ error }}</small>
          {% endfor %}
          <span class="icon is-small is-left text-success text-muted">
            <i class="fas fa-envelope"></i>
          </span>
        </p>
      </div>
      <div class="field">
        {{ form.password.label() }}
        <p class="control has-icons-left">
          {{ form.password(id="password", class="input is-primary" + 
            (' is-danger' if form.password.errors else ''), placeholder='Password') }}
          {% for error in form.password.errors %}
            <small class="text-danger">{{ error }}</small>
          {% endfor %}
          <span class="icon is-small is-left text-success text-muted">
            <i class="fas fa-lock"></i>
          </span>
        </p>
      </div>
      <div class="form-check mb-3">
        {{ form.remember_me(class="form-check-input") }}
        {{ form.remember_me.label(class="form-check-label") }}
      </div>
      <div class="d-grid">
        {{ form.submit(class="btn btn-success") }}
      </div>
      <div class="text-center mt-3">
        <a href="{{ url_for('auth.recover_password') }}" class="text-decoration-none">
          Forgot Password?
        </a>
      </div>
    </form>
   </div>
</div>
<!-- <div class="container text-center border-bottom pb-2 border-success">
  <small class="text-muted">Acadex &copy;2024</small>
</div> -->
<div class="container">
    <div class="d-flex align-items-center p-2">
        <hr class="flex-grow-1" style="background-color: rgb(126, 126, 126);">
        <h6 class="mx-3 fw-light">
            Bushra. &copy; 2025 Developed by Oyaro Jared
        </h6>
        <hr class="flex-grow-1" style="background-color: rgb(126, 126, 126);">
    </div>
</div>
{% endblock auth %}